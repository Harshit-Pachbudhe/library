<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookTrack - Student Dashboard</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Local CSS -->
    <link rel="stylesheet" th:href="@{/css/studdash.css}">
</head>

<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <div>
            <div class="logo">
                <img th:src="@{/images/graduate.gif}" alt="book icon">BookTrack
            </div>

            <div class="menu">
                <a th:href="@{/studdash}" class="active"><i class="fa fa-home"></i> Dashboard </a>
                <a th:href="@{/studsearch}"><i class="fa fa-search"></i> Search Books </a>
                <a th:href="@{/studissue-return}"><i class="fa fa-exchange-alt"></i> Issue / Return</a>
                <a th:href="@{/studreserve}"><i class="fa fa-bookmark"></i> Reservations</a>
            </div>
        </div>

        <a th:href="@{/logout}"><i class="fa fa-sign-out"></i> Logout</a>
    </div>

    <!-- Main Content -->
    <div class="main">

        <!-- Top Bar -->
        <div class="topbar">

            <input type="text" placeholder="ðŸ” Search books, users..." class="search-bar">

            <div class="notification">
                <a th:href="@{/studnotif}">
                    <i class="fa fa-bell fa-lg"></i>
                    <span class="badge">5</span>
                </a>
            </div>

            <!-- Dynamic Profile -->
         <!-- Dynamic Profile -->
<a th:href="@{/user/profile}" class="profile-link">
   <img th:src="${session.loggedInUser != null && session.loggedInUser.profileImage != null} ?
        ${session.loggedInUser.profileImage} :
        '/images/profile.webp'"
     style="width:40px;height:40px;border-radius:50%;object-fit:cover;">

</a>

</a>

        </div>

        <h2>Library Dashboard</h2>
        <br>

        <div class="cards">

            <!-- Static Cards -->
            <div class="card yellow">
                <h3>Computer Science & Engineering</h3>
                <p>10 subjects | 3 Research Papers</p>
                <button class="btn">View</button>
            </div>

            <div class="card pink">
                <h3>AI & DS</h3>
                <p>5 Journals | 2 Research Papers</p>
                <button class="btn">View</button>
            </div>

            <div class="card purple">
                <h3>Artificial Intelligence</h3>
                <p>22 Subjects | 8 Journals</p>
                <button class="btn">View</button>
            </div>

            <div class="card blue">
                <h3>Social Media Course</h3>
                <p></p>
                <button class="btn">View</button>
            </div>

            <div class="card green">
                <h3>Machine Learning</h3>
                <p>Books | Articles</p>
                <button class="btn">View</button>
            </div>

            <div class="card orange">
                <h3>IoT</h3>
                <p>16 Books | 4 Articles</p>
                <button class="btn">View</button>
            </div>

            <div class="card teal">
                <h3>Data Structure & Algorithms</h3>
                <p>Books</p>
                <button class="btn">View</button>
            </div>

            <div class="card red">
                <h3>Space Technology</h3>
                <p>Books | Latest Journals</p>
                <button class="btn">View</button>
            </div>

            <div class="card blue">
                <h3>Information Technology (IT)</h3>
                <p>Digital Resources & e-books</p>
                <button class="btn">View</button>
            </div>

            <div class="card green">
                <h3>Civil Engineering</h3>
                <p>Surveying & Design References</p>
                <button class="btn">View</button>
            </div>

            <div class="card orange">
                <h3>Mechanical Engineering</h3>
                <p>Design Manuals & CAD Guides</p>
                <button class="btn">View</button>
            </div>

            <div class="card purple">
                <h3>Electrical Engineering</h3>
                <p>Circuits & Power Systems Books</p>
                <button class="btn">View</button>
            </div>

            <!-- If Later You Want Dynamic Books -->
            <!--
            <div class="card" th:each="book : ${books}">
                <h3 th:text="${book.title}"></h3>
                <p>Author: <span th:text="${book.author}"></span></p>
                <a th:href="@{/studreserve(bookId=${book.id})}" class="btn">View / Reserve</a>
            </div>
            -->
        </div>
    </div>

</body>
</html>
