<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>BookTrack - Admin Search</title>
  <link rel="stylesheet" href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css}">
  <link rel="stylesheet" th:href="@{/css/adminsearch.css}">
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
      <div>
          <div class="logo">
              <img th:src="@{/images/graduate.gif}" alt="book icon">BookTrack
          </div>
          <div class="menu">
              <a th:href="@{/admindash}"><i class="fa fa-home"></i> Dashboard </a>
              <a th:href="@{/adminsearch}" class="active"><i class="fa fa-search"></i> Search Books </a>
              <a th:href="@{/adminissueReturn}"><i class="fa fa-exchange-alt"></i> Issue / Return</a>
              <a th:href="@{/adminreserve}"><i class="fa fa-bookmark"></i> Reservations</a>
          </div>
      </div>
      <a th:href="@{/logout}"><i class="fa fa-sign-out"></i> Logout</a>
  </div>

  <!-- Main Content -->
  <div class="main">
      <div class="topbar">
          <!-- Search bar -->
          <input type="text" placeholder="ðŸ” Search books, users..." class="search-bar">

          <!-- Notifications -->
          <div class="notification">
            <a th:href="@{/adminnotif}">
              <i class="fa fa-bell fa-lg"></i>
              <span class="badge" th:text="${notificationCount}">0</span>
            </a>
          </div>

          <!-- Profile (linked to profile page) -->
          <a th:href="@{/adminprofile}" class="profile-link">
              <img th:src="@{/images/profile.webp}" alt="Profile" class="profile-pic">
          </a>
      </div>

      <div class="container">
        <h3>ðŸ“š Search your favourite book here</h3>

        <!-- ðŸ” Search + Filters -->
        <div class="filters">
          <input type="text" id="searchInput" placeholder="Search by Title or Author...">

          <select id="streamFilter">
            <option value="">All Streams</option>
            <option value="CSE">CSE</option>
            <option value="IT">IT</option>
            <option value="AI&DS">AI&DS</option>
            <option value="ETC">ETC</option>
            <option value="Mechanical">Mechanical</option>
            <option value="Civil">Civil</option>
            <option value="Electrical">Electrical</option>
          </select>

          <select id="categoryFilter">
            <option value="">All Types</option>
            <option value="Book">Book</option>
            <option value="E-Book">E-Book</option>
            <option value="Journal">Journal</option>
            <option value="Magazine">Magazine</option>
            <option value="Research Paper">Research Paper</option>
          </select>
        </div>

        <!-- ðŸ“‘ Books Table -->
        <table>
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Stream</th>
              <th>Type</th>
              <th>Download</th>
            </tr>
          </thead>
          <tbody id="bookList">
            <tr th:each="book : ${books}">
              <td th:text="${book.title}">Book Title</td>
              <td th:text="${book.author}">Author</td>
              <td th:text="${book.stream}">Stream</td>
              <td th:text="${book.type}">Type</td>
              <td><a th:href="@{'/books/download/' + ${book.id}}">Download</a></td>
            </tr>

            <tr th:if="${#lists.isEmpty(books)}">
              <td colspan="5" style="text-align:center;">No books found.</td>
            </tr>
          </tbody>
        </table>
      </div>
  </div>

  <script th:src="@{/js/adminsearch.js}"></script>
</body>
</html>
